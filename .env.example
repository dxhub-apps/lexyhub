# LexyHub Environment Configuration
# Copy this file to .env.local and fill in your values

# ============================================
# Supabase Configuration (Required)
# ============================================
# Get these from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# OpenAI Configuration (Required for AI features)
# ============================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================
# LexyBrain Configuration (Optional - AI Market Intelligence)
# ============================================
# Enable LexyBrain AI-powered market insights
LEXYBRAIN_ENABLE=true

# ============================================
# NEW: HuggingFace Configuration (RECOMMENDED)
# ============================================
# HuggingFace API Token (Required for LexyBrain)
# Get your token from: https://huggingface.co/settings/tokens
HF_TOKEN=hf_your-token-here

# LexyBrain Model ID (Optional - defaults to meta-llama/Llama-3.1-8B-Instruct)
# You can use any model from HuggingFace that supports chat completions
# Examples:
# - meta-llama/Llama-3.1-8B-Instruct (default)
# - meta-llama/Llama-3.1-70B-Instruct
# - mistralai/Mixtral-8x7B-Instruct-v0.1
LEXYBRAIN_MODEL_ID=meta-llama/Llama-3.1-8B-Instruct

# LexyBrain Provider (Optional - defaults to "huggingface")
# Options: "huggingface", "openai", "runpod"
# HuggingFace is the recommended provider
LEXYBRAIN_PROVIDER=huggingface

# ============================================
# DEPRECATED: RunPod Serverless Queue Configuration
# ============================================
# These are kept for backward compatibility during migration
# PLEASE MIGRATE to HF_TOKEN and LEXYBRAIN_MODEL_ID

# RunPod API Key for serverless queue access
# Get your API key from: https://www.runpod.io/console/user/settings
# RUNPOD_API_KEY=your-runpod-api-key-here

# LexyBrain RunPod Serverless Endpoint ID
# Default: 826ys3jox3ev2n (LexyBrain production endpoint)
# Get your endpoint ID from: https://www.runpod.io/console/serverless
# LEXYBRAIN_RUNPOD_ENDPOINT_ID=826ys3jox3ev2n

# LexyBrain Direct HTTP API URL (Old Endpoint)
# Direct HTTP endpoint for LexyBrain generation
# Format: https://your-endpoint.proxy.runpod.net
# Default: https://vnohaft064aqpa-8000.proxy.runpod.net
# LEXYBRAIN_API_URL=https://vnohaft064aqpa-8000.proxy.runpod.net

# ============================================
# DEPRECATED: Legacy Load Balancer Configuration
# ============================================
# These are kept for backward compatibility during migration
# PLEASE MIGRATE to HF_TOKEN and LEXYBRAIN_MODEL_ID

# LexyBrain HTTP endpoint URL (llama.cpp server) - DEPRECATED
# IMPORTANT: This is the HTTP llama.cpp server URL, NOT the RunPod API URL
# Get your endpoint from RunPod UI: https://www.runpod.io/console/serverless
# Format: https://<endpoint-id>-<hash>.runpod.run
# Example: https://c01emmd6h9te8e-abc123def456.runpod.run
# DO NOT use: https://api.runpod.ai/v2/... (that's for job-based APIs)
# LEXYBRAIN_MODEL_URL=https://your-endpoint-id-hash.runpod.run

# LexyBrain shared secret key (X-LEXYBRAIN-KEY header) - DEPRECATED
# This is the shared secret configured in RunPod's "Required Request Headers"
# NOT the RunPod API key!
# LEXYBRAIN_KEY=your-shared-secret-here

# ============================================
# LexyBrain General Configuration
# ============================================
# Model version identifier (for logging/analytics)
LEXYBRAIN_MODEL_VERSION=llama-3-8b-instruct

# Daily cost cap in cents (optional, default: 10000 = $100/day)
LEXYBRAIN_DAILY_COST_CAP=10000

# Max latency in milliseconds (optional, default: 15000 = 15s)
LEXYBRAIN_MAX_LATENCY_MS=15000

# Enable LexyBrain notifications (optional, default: false)
# When enabled, creates in-app notifications for high-severity risk alerts
LEXYBRAIN_NOTIFICATIONS_ENABLED=true

# ============================================
# Security (Required)
# ============================================
# Generate a strong random string (min 16 characters)
LEXYHUB_JWT_SECRET=change-me-to-a-strong-random-secret

# Comma-separated list of admin emails
LEXYHUB_ADMIN_EMAILS=admin@example.com,super@example.com

# ============================================
# Etsy Integration (Optional)
# ============================================
# Register your app at: https://www.etsy.com/developers/register
ETSY_CLIENT_ID=your-etsy-client-id
ETSY_CLIENT_SECRET=your-etsy-client-secret
ETSY_REDIRECT_URI=http://localhost:3000/api/auth/callback/etsy

# Data source: "API" or "SCRAPE"
ETSY_DATA_SOURCE=SCRAPE

# Optional: Official Etsy API credentials (legacy)
ETSY_API_KEY=your-etsy-api-key
ETSY_API_SECRET=your-etsy-api-secret
ETSY_BASE_URL=https://openapi.etsy.com

# ============================================
# Google Trends (Optional)
# ============================================
GOOGLE_TRENDS_API_KEY=your-google-trends-api-key

# ============================================
# Pinterest Integration (Optional)
# ============================================
PINTEREST_ACCESS_TOKEN=your-pinterest-access-token

# ============================================
# DataForSEO Keyword Data (Optional - for K4K ingestion)
# ============================================
# Get your credentials from: https://app.dataforseo.com/api-dashboard
# Used for Keywords for Keywords (K4K) API integration
# Enables automated keyword expansion and search volume data
DATAFORSEO_LOGIN=your-dataforseo-email@example.com
DATAFORSEO_PASSWORD=your-dataforseo-password

# DataForSEO API configuration
# Market/location code (default: 2840 = United States)
# See: https://docs.dataforseo.com/v3/keywords_data/google_ads/locations/
DATAFORSEO_LOCATION_CODE=2840

# Language code (default: en = English)
# See: https://docs.dataforseo.com/v3/keywords_data/google_ads/languages/
DATAFORSEO_LANGUAGE_CODE=en

# K4K batch size (max keywords per API task, default: 20)
# Range: 1-20 (DataForSEO limit)
DATAFORSEO_K4K_MAX_TERMS_PER_TASK=20

# Device type for search volume data
# Options: desktop, mobile, tablet (default: desktop)
DATAFORSEO_K4K_DEVICE=desktop

# ============================================
# Reddit Integration (Optional)
# ============================================
# Register your app at: https://www.reddit.com/prefs/apps
REDDIT_CLIENT_ID=your-reddit-client-id
REDDIT_CLIENT_SECRET=your-reddit-client-secret

# ============================================
# Stripe Payment Processing (Optional)
# ============================================
# Get your keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================
# Partner API (Optional)
# ============================================
# Comma-separated list of static API keys for partner integrations
PARTNER_API_STATIC_KEYS=key1,key2,key3

# ============================================
# Browser Extension (Optional)
# ============================================
# Base URL for the extension to communicate with
BROWSER_EXTENSION_API_BASE_URL=http://localhost:3000

# Default telemetry opt-in for extension users
BROWSER_EXTENSION_ALLOW_USER_TELEMETRY_DEFAULT=false

# ============================================
# Development / Testing
# ============================================
# Set to "development" or "production"
NODE_ENV=development

# Vercel-specific (auto-set in Vercel)
# VERCEL_URL=
# VERCEL_ENV=

# ============================================
# Monitoring & Logging (Optional)
# ============================================

# Sentry Configuration
# Get your DSN from: https://sentry.io/settings/projects/
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# Sentry Organization and Project (for source map uploads)
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=your-sentry-project
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# PostHog Configuration
# REQUIRED: Both variables must be set for PostHog to work
# Get your project key (starts with 'phc_') from: https://eu.posthog.com/project/settings
#
# We use the EU instance exclusively (single client, no fallback):
NEXT_PUBLIC_POSTHOG_KEY=phc_your-eu-project-key-here
NEXT_PUBLIC_POSTHOG_HOST=https://eu.i.posthog.com
#
# IMPORTANT:
# - Use EU instance only (https://eu.i.posthog.com)
# - After changing these in Vercel, you MUST redeploy with cleared build cache
# - No host switching, no retries, single locked configuration

# Log level: "debug" | "info" | "warn" | "error"
LOG_LEVEL=info

# ============================================
# Database (Optional - for local Postgres)
# ============================================
# If running Postgres locally instead of Supabase
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/lexyhub
